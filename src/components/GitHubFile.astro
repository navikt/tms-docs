---
import { fetchContent } from "../utils/github";
import { marked } from "marked";

interface Props {
  repo: string;
  path: string;
}

const { repo, path } = Astro.props as Props;

let content = "";
try {
  content = await fetchContent(repo, path);
} catch (e) {
  content = `Failed to load ${repo}/${path}: ${e}`;
}

const renderedHtml = marked.parse(content);
---
<div set:html={renderedHtml} />
